---
import BaseLayout from '@layouts/BaseLayout.astro';
import Hero from '@components/sections/Hero.astro';
import About from '@components/sections/About.astro';
import Skills from '@components/sections/Skills.astro';
import Projects from '@components/sections/Projects.astro';
import Experience from '@components/sections/Experience.astro';
import BlogPreview from '@components/sections/BlogPreview.astro';
import Contact from '@components/sections/Contact.astro';
import ScrollAnimations from '@components/ui/ScrollAnimations.astro';
import { getLocaleFromPath, isValidLocale, defaultLocale } from '@i18n/config';
import { getTranslation } from '@i18n/translations';

export async function getStaticPaths() {
  return [
    { params: { locale: 'fr' } },
    { params: { locale: 'en' } },
  ];
}

interface Props {
  locale: string;
}

const { locale: localeParam } = Astro.params;
const locale = isValidLocale(localeParam || '') ? localeParam as 'fr' | 'en' : defaultLocale;

const title = locale === 'fr' 
  ? "Adonai Nangui - Senior Frontend Engineer & Tech Lead"
  : "Adonai Nangui - Senior Frontend Engineer & Tech Lead";

const description = locale === 'fr'
  ? "Portfolio professionnel d'Adonai Nangui. Expertise en développement frontend, architecture et systèmes scalables."
  : "Professional portfolio of Adonai Nangui. Expertise in frontend development, architecture and scalable systems.";
---

<BaseLayout 
  title={title}
  description={description}
  locale={locale}
>
  <div class="max-w-[1200px] mx-auto">
    <Hero locale={locale} />
    <About locale={locale} />
    <Skills locale={locale} />
    <Projects locale={locale} />
    <Experience locale={locale} />
    <BlogPreview locale={locale} />
    <Contact locale={locale} />
  </div>
  <ScrollAnimations />
</BaseLayout>
